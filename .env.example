# Configuration de base
LISTEN_ADDR=:2375
# LISTEN_SOCKET=/tmp/dockershield.sock  # Optionnel: utiliser un Unix socket au lieu de TCP
# SOCKET_PERMS=0666  # Permissions du socket Unix (défaut: 0666)
DOCKER_SOCKET=unix:///var/run/docker.sock
LOG_LEVEL=info
# API_VERSION=  # Laisser vide pour auto-détection, ou spécifier (ex: v1.41, v1.43)

# Protection du proxy (auto-protection contre l'escalade de privilèges)
PROXY_CONTAINER_NAME=dockershield
# PROXY_NETWORK_NAME=dockershield  # Nom du réseau du proxy (optionnel)

# Endpoints autorisés par défaut (pas besoin de les définir)
# EVENTS=1
# PING=1
# VERSION=1

# Endpoints à activer selon vos besoins (0=refusé, 1=autorisé)
AUTH=0
BUILD=0
COMMIT=0
CONFIGS=0
CONTAINERS=1
DISTRIBUTION=0
EXEC=0
IMAGES=1
INFO=0
NETWORKS=1
NODES=0
PLUGINS=0
SECRETS=0
SERVICES=0
SESSION=0
SWARM=0
SYSTEM=0
TASKS=0
VOLUMES=1

# Méthodes HTTP (0=refusé, 1=autorisé)
# GET et HEAD sont toujours autorisés
POST=0
DELETE=0
PUT=0

# ==========================================
# FILTRES AVANCÉS (optionnel)
# ==========================================

# Option 1: Via fichier JSON
# FILTERS_CONFIG=./filters.json

# Option 2: Via variables d'environnement (prioritaire sur JSON)
# Format: DKRPRX__<SECTION>__<PARAMETER>

# Volumes
# DKRPRX__VOLUMES__ALLOWED_NAMES="^data-.*,^app-.*"
# DKRPRX__VOLUMES__DENIED_NAMES="^system-.*"
# DKRPRX__VOLUMES__ALLOWED_PATHS="^/data/.*,^/mnt/.*"
# DKRPRX__VOLUMES__DENIED_PATHS="^/etc/.*,^/root/.*,^/home/.*"
# DKRPRX__VOLUMES__ALLOWED_DRIVERS="local,nfs"

# Conteneurs
# DKRPRX__CONTAINERS__ALLOWED_IMAGES="^myregistry.com/.*"
# DKRPRX__CONTAINERS__DENIED_IMAGES=".*:latest$"
# DKRPRX__CONTAINERS__ALLOWED_NAMES="^prod-.*"
# DKRPRX__CONTAINERS__REQUIRE_LABELS="env=production,team=backend"
# DKRPRX__CONTAINERS__DENY_PRIVILEGED="true"
# DKRPRX__CONTAINERS__DENY_HOST_NETWORK="true"

# Réseaux
# DKRPRX__NETWORKS__ALLOWED_NAMES="^app-.*"
# DKRPRX__NETWORKS__DENIED_NAMES="^host$"
# DKRPRX__NETWORKS__ALLOWED_DRIVERS="bridge,overlay"

# Images
# DKRPRX__IMAGES__ALLOWED_REPOS="^docker.io/.*,^myregistry.com/.*"
# DKRPRX__IMAGES__DENIED_REPOS=".*untrusted.*"
# DKRPRX__IMAGES__ALLOWED_TAGS="^v[0-9]+\\.[0-9]+\\.[0-9]+$"
# DKRPRX__IMAGES__DENIED_TAGS="^latest$,^dev$"
